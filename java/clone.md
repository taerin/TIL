# Clone
## 자바에서 객체를 복제하는 방법

1. Object class에서 제공하는 clone() 함수를 오버라이딩 한다.

2. 접근제한자 protected -> public 으로 변경한다.
접근제한자를 변경할 때에는 더 큰 범위로 변경할 수 있지만, 더 작은 범위로는 변경할 수 없다. 

3. 예외를 내부에서 처리하도록 변경 
override 하면 예외를 던지도록 되어있다. 하지만 예외를 해당 클래스를 설계한 사람의 책임으로 넘겨서 처리하는 것이 더 좋다. 


4. 리턴 타입을 실제 복제되는 타입으로 변경한다.
-> 공변 반환의 법칙(자바 1.5부터, Generic)
부모의 반환타입을 자식의 반환 타입으로 변경해줄 수 있다.

5. Cloneable 구현
Cloneable을 구현해야하는 이유는 복제를 제공하고 있는지를 확인받을 수 있는 **마크업 인터페이스**이다.
이 인터페이스는 어떠한 기능상세나 약속이 없는 인터페이스인데, 이를 구현해주어야 clone을 제공하는 클래스로서 확인을 받을 수 있기 때문에 필수로 구현해주어야한다. 이 부분에 있어서 자바의 설계는 잘못되었다고 볼 수 있다.

6. Reference 타입을 필드로 가지고 있다면, 이 또한 clone() 을 통해 복제해야 깊은 복제가 이루어진다.
Primitive 타입은 값 타입이므로 복제시 깊은 복사나 얕은 복사의 여부를 고민할 필요가 없지만, Reference 타입의 경우는 다르다.

``` java
class Point {
	private Point point;
}
```

만약 위와 같은 코드라면 복제시 point에 관하여 clone을 통해 직접 다시 복제를 해주어야한다. 
