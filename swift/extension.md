# Extension
익스텐션은 구조체, 클래스, 열거형, 프로토콜 타입에 새로운 기능을 추가할 수 있는 기능입니다. 기능을 추가하려는 타입의 구현된 소스 코드를 알지 못하거나 볼 수 없다 해도, 타입만 알고있다면 그 타입의 기능을 확장할 수 있습니다. 
익스텐션은 Objective-Cㅇ의 카테고리와 유사한 기능입니다.

스위프트의 익스텐션이 타입에 추가할 수 있는 기능은 다음과 같습니다. 
	* 연산 타입 프로퍼티 / 연산 인스턴스 프로퍼티
	* 타입 메서드 / 인스턴스 메서드
	* 이니셜라이저
	* 서브스크립트
	* 중첩 타입
	* 특정 프로토콜을 준수할 수 있도록 기능 추가

## 클래스의 상속과 익스텐션
__익스텐션은 타입에 새로운 기능을 추가할 수는 있지만, 기존에 존재하는 기능을 재정의 할 수는 없습니다.__ 

클래스의 상속과 익스텐션은 비슷해보이지만 질제 성격은 많이 다릅니다. 

클래스의 상속은 클래스 타입에서만 가능하지만 익스텐션은 구조체, 클래스, 프로토콜 등에 적용이 가능합니다.
또 클래스의 상속은 특정 타입을 물려받아 하나의 새로운 타입을 정의하고 추가 기능을 구현하는 수직 확장이지만, 익스텐션은 기존의 타입에 기능을 추가하는 수평확장입니다.
또 상속을 받으면 기존 기능을 재정의할 수 있지만, 익스텐션은 재정의할 수 없다는 것도 큰 차이중 하나입니다. 
상황과 용도에 맞게 상속과 익스텐션을 선택하여 사용하면 됩니다.

### 상속과 익스텐션의 비교
기능 | 상속 | 익스텐션
---|------|----------
확장 | 수직확장 | 수평확장
사용 | 클래스 타입에서만 사용 | 클래스, 구조체, 프로토콜, 제네릭 등 모든 타입에서 사용
재정의 | 재정의 기능 | 재정의 불가

익스텐션을 사용하는 대신 원래 타입을 정의한 소스에 기능을 추가하는 방법도 있겠지만, 외부 라이브러리나 프레임워크를 가져다 썼다면 원본 소스를 수정하지 못합니다. 이처럼 외부에서 가져온 타입에 내가 원하는 기능을 추가하고자 할 때 익스텐션을 사용합니다. 따로 상속을 받지 않아도 되며, 구조체와 열거형에도 기능을 추가할 수 있으므로 익스텐션은 매우 편리한 기능입니다.

## 익스텐션 문법
익스텐션은 extension이라는 키워드를 사용하여 선언합니다.

``` swift 
extension 확장할 타입 이름 {
	// 타입에 추가될 새로운 기능 구현
}
```

익스텐션은 기존에 존재하는 타입이 추가적으로 다른 프로토콜을 채택할 수 있도록 확장할 수도 있습니다. 이런 경우에는 클래스나 구조체에서 사용하던 것과 똑같은 방법으로 프로토콜 이름을 나열해 줍니다.

``` swift
extension 확장할 타입이름: 프로토콜1, 프로토콜2, 프로토콜3 {
	// 프로토콜 요구사항 구현
}
```

## 익스텐션으로 확장할 수 있는 항목
### 1. 연산 프로퍼티
인스턴스 연산 프로퍼티를 추가할 수 있으며, static 키워드를 사용하여 타입 연산 프로퍼티도 추가할 수 있습니다. 익스텐션으로 연산 프로퍼티를 추가할 수는 있지만, 저장 프로퍼티(stored property)는 추가할 수 없습니다.또한 타입에 정의되어있는 기존의 프로퍼티에 프로퍼티 감시자를 추가할 수도 없습니다.

### 2. 메서드
인스턴스 메서드, 가변 메서드, 타입 메서드가 추가 가능하고, 사용자 정의타입인 구조체 타입에 사용할 연산자(타입 메서드)를 추가해줄 수도 있습니다.
또한 여러개의 익스텐드 블록을 나눠서 구현하여도 전혀 문제가 없고 관련된 기능별로 하나의 익스텐션 블록에 묶어주는 것도 좋습니다.


### 3. 이니셜라이저
인스턴스를 초기화 할때 인스턴스 초기화에 필요한 다양한 데이터를 전달받을 수 있도록 여러 종류의 이니셜라이저를 만들 수 있습니다. 타입의 정의부에 이니셜라이저를 추가하지 않더라도 익스텐션을 통해 이니셜라이저를 추가할 수 있습니다.
하지만 익스텐션으로 클래스 타입에 편의 이니셜라이저를 추가할 수는 있지만, 지정 이니셜라이저는 추가할 수 없습니다. 지정이니셜라이저와 디이니셜라이저는 반드시 클래스 타입의 구현부에 위치해야 합니다. (값 타입; 구조체와 같은; 상관 없습니다.)
익스텐션으로 값 타입(열거형, 구조체 등)에 이니셜라이저를 추가했을 때, 그 값 타입이 다음의 조건을 모두 성립한다면 익스텐션으로 추가한 이니셜라이저에서 그 타입의 기본 이니셜라이저와 멤버와이즈 이니셜라이저를 호출 할 수 있습니다.

	* 모든 저장 프로퍼티가 기본값을 가지고 있습니다.
	* 타입이 기본 이니셜라이저와 멤버와이즈 이니셜라이저 외에 추가적인 사용자정의 이니셜라이저를 가지고 있지 않습니다.

익스텐션을 통해 추가하는 이니셜라이저는 타입의 기존 이니셜라이저가 갖는 책무를 동일하게 수행하여야 합니다. 즉, 이니셜라이저 호출이 종료되는 시점까지 인스턴스가 정상적으로 완벽하게 초기화 되는 것을 책임져야 합니다.

## 4. 서브스크립트
## 5. 중첩 데이터 타입

