# Initializer (초기화 메소드)

## 기본 이니셜라이저
Java나 C#, C++ 에서는 클래스를 정의하고 사용자가 생성자를 정의하지않으면 기본 생성자를 컴파일러가 만들어줍니다. 마찬가지로 Swift에서도 아무 일도 하지 않는 기본 이니셜라이저를 만들어줍니다.
기본 이니셜라이저는 프로퍼티 기본값으로 프로퍼티를 초기화해서 인스턴스를 생성합니다. 즉, 기본 이니셜라이저는 저장프로퍼티의 기본값이 모두 지정되어 있고, 동시에 사용자정의 이니셜라이저가 정의되어 있지 않은 상태에서 제공됩니다.

저장 프로퍼티를 선언할 때 기본값을 지정해주지 않으면 이니셜라이저에서 초깃값을 설정해야합니다. 그러나 프로터피 하나 때문에 매번 이니셜라이저를 추가하거나 변경하는 일은 여간 귀찮은 일이 아닙니다. 때문에 구조체는 사용자정의 이니셜라이저를 구현하지 않으면 프로퍼티의 이름으로 매개변수를 가지는 이니셜라이저인 멤버와이즈 이니셜라이저를 기본으로 제공합니다. 그렇지만 클래스는 멤버와이즈 이니셜라이저를 지원하지 않습니다. 

``` swift
struct Point {
	var x: Double = 0.0
	var y: Double = 0.0
}

struct Size {
	var width: Double = 0.0
	var height: Double = 0.0
}


let point: Point = Point(x: 0, y: 0)
let size: Size = Size (width: 50.0, height: 50.0)
```




## 멤버와이즈 이니셜라이저
모든 프로퍼티들의 초기화를 수행하는 이니셜라이저를 말합니다. 멤버와이즈 이니셜라이저는 class에는 사용할 수 없는 property를 위한 특권입니다.

``` swift
property  User {
   var name: String
   var age: Int
   var level: Int
   var gold: Int
   var cash: Int
   
   init(name: String, age: Int, level: Int, gold: Int, cash: Int) {
       self.name = name
       self.age = age
       self.level = level
       self.gold = gold
       self.cash = cash
   }
}
```

## 사용자 정의 이니셜라이져
사용자 정의 이니셜라이저는 Java의 생성자 오버로딩과 비슷한 문법입니다.
만약 자바에서 사용자 정의 생성자를 정의했다면 기존의 컴파일러가 자동 생성해주는 기본 생성자는 사용 할 수 없고 같은 타입과 같은 인자 수를 가진 생성자는 오버로딩 될 수 없기때문에 여러개의 필드를 가진 클래스의 경우 특정 값만을 초기화하며 객체를 생성해주려면 정적 팩토리 메소드를 사용해야 합니다. 아래는 정적 팩토리메소드의 코드입니다.
사용자정의 이니셜라이저를 정의하면 기본 이니셜라이저와 멤버와이즈 이니셜와이져를 사용할 수 없습니다. 
기본 이니셜라이저를 지키고싶다면 익스텐션을 사용하여 사용자정의 이니셜라이저를 구현하면 됩니다. 

``` java
class Point {

	int x;
	int y;

	Point(int x, int y) {
		this.x = x;
		this.y = y;
	}

	static Point initializeX (int x) {
		Point(x, 0);
	}

	static Point initializeY (int y) {
		Point(0, y);
	}
}
```

### 초기화 위임
값타입인 구조체와 열거형은 코드의 중복을 피하기 위하여 이니셜라이저가 다른 이니셜라이저에게 일부 초기화를 위힘하는 초기화 위임을 간단히 만들 수 있습니다. 
당연히 값 타입에서 이니셜라이저가 다른 이니셜라이저를 호출하려면 self.init을 호출해야하는데 self.init은 이니셜라이저 안에서만 사용할 수 있습니다.


## 실패 가능한 이니셜라이저
자바에서 인스턴스 생성에 실패했을 경우 실패를 알려줄 수 있는 방법은 예외를 던지는 방법이지만 Swift에서는 nil을 return 함으로서 실패가능한 이니셜라이저를 제공할 수 있습니다. 실패 가능한 이니셜라이저는 클래스, 구조체, 열거형 등에 모두 정의할 수 있습니다.
실패가능한 이니셜라이저를 실패하였을 때, nil을 반환해주므로 반환 타입이 옵셔널로 지정됩니다. 따라서 실패 가능한 이니셜라이저는 init? 이란 키워드를 사용합니다.

	* 실패하지않는 이니셜라이저와 실패 가능한 이니셜라이저를 같은 이름과 매개변수로 사용할 수 없습니다. 실패 가능한 이니셜라이저가 실제로는 특정 값을 반환하지 않습니다. 다만 초기화를 실패했을 때는 return nil을, 반대로 초기화에 성공했을 때는 return 을 적어 초기화의 성공과 실패를 표현할 뿐, 실제 값을 반환하지는 않습니다.

``` swift

class Point {
	init?(x: Int){
        	guard x < 0 else {
            	return nil
      	}
        
        self.x = x
        self.y = 0
    }  
}
```



