# const
키워드 const는 값을 변경할 수 없는 상수를 정의한다. 기본 형식은 다음과 같다.

const 타입 변수명=초기값;

변수를 선언하는 일반적인 문장과 비슷하되 앞에 const를 붙이고 뒤에 반드시 초기값을 적어야 한다는 점만 다르다. 다음 예제는 세 개의 상수를 정의하고 있다.

``` c
#include <Turboc.h>
 
const int HourPerDay=24;
const int MinPerHour=60;
const int SecPerMin=60;
 
void main()
{
	     printf("하루는 %d초입니다.\n",HourPerDay*MinPerHour*SecPerMin);
}
```

하루는 24시간이고 한 시간은 60분, 1분은 60초로 정의했다. 24*60*60이라고 상수를 직접 쓰는 대신 HourPerDay, MinPerHour, SecPerMin 같은 이름이 있는 상수를 사용함으로써 소스를 읽기 쉬워지고 수정하기도 편리하다. 이 값들은 모두 정수 상수로 선언되었기 때문에 중간에 값을 변경할 수 없다. 따라서 HourPerDay=26; 과 같은 대입문은 당장 에러로 처리되며 선언할 때 반드시 초기값을 지정해야 한다.
const 키워드는 타입 다음에 붙일 수도 있으며 타입이 생략될 경우 int형으로 간주된다. 그래서 다음 세 문장은 모두 동일하다. 하지만 관습적으로 const는 타입 앞에 붙이는 것이 보기에 좋고 읽기에 좋기 때문에 첫 번째 형식을 많이 사용한다.

``` c
const int Day=24;
int const Day=24;
const Day=24;

```

const에 의해 만들어지는 상수는 컴파일시에 값이 결정되기 때문에 배열의 크기 지정에도 사용할 수 있다. 반면 변수는 실행중에 값이 바뀔 수 있기 때문에 배열 크기를 지정하는 용도로는 사용할 수 없다.

``` c
const int ARRSIZE=10;
int arr[ARRSIZE];       // 가능
```

``` c 
int ARRSIZE = 10;
int arr[ARRSIZE]; 		// 불가능
```

## const와 #define

const 예약어의 용도는 매크로 상수를 정의하는 #define 전처리문과 유사하다. 상수에 좀 더 분명한 의미의 이름을 부여한다는 것과 자주 사용되는 상수를 한 곳에서만 정의함으로써 일괄적인 수정을 쉽게 한다는 점에서 기능상 동일하다고 할 수 있으며 사실 상호 대체 가능하다. 그러나 const는 #define에 비해 다음과 같은 장점을 가지고 있다.

1. #define이 정의하는 매크로 상수는 타입을 지정할 수 없지만 const는 타입을 명확하게 지정할 수 있다. 위 예에서 Day는 실수 24.0이나 문자열 "24"가 아닌 정수형의 24라는 것을 분명하게 지정한다. C++은 타입을 중요시하기 때문에 상수의 정확한 타입이 의미를 가지는 경우가 있다.

2. 매크로 상수는 일단 정의된 후에는 언제든지 어느 곳에서나 사용할 수 있지만 const는 통용 범위 규칙의 적용을 받기 때문에 자신이 선언된 범위 내에서만 사용할 수 있다. 함수 내부에서 선언한 상수는 함수 내부에서만 사용할 수 있으며 함수 밖으로는 알려지지 않는다. 즉, 지역 상수를 만들 수 있으며 명칭간의 충돌을 최소화할 수 있다.

3. #define은 컴파일러가 아닌 전처리기에 의해 치환되기 때문에 실제 소스에는 매크로가 치환된 상태로 실행된다. 그래서 디버깅 중에 매크로 상수의 값을 확인해 볼 수 없으며 아무리 간단한 버그라도 확인이 안되면 잡기가 어렵다. 반면 const 상수는 컴파일러가 처리하기 때문에 디버깅 중에도 값을 확인해 볼 수 있어 복잡한 단계를 통해 정의된 상수의 값도 쉽게 살펴볼 수 있다.

4. 매크로는 기계적으로 치환되기 때문에 부작용이 발생할 소지가 많다. 괄호를 싸지 않으면 연산 순위에 의해 예상하지 못한 값이 될 위험이 있다. 그러나 const 상수는 컴파일러가 문맥에 맞게 처리하므로 이런 부작용이 거의 없다. #define A 1+2의 A는 3이 될 가능성이 있을 뿐 주변 연산문에 따라 3이 아닐 수도 있지만 const int A=1+2;는 어떤 경우라도 3이다.

\#define이 C에서 사용하던 방법이라면 const는 C++에서 새로 도입된 좀 더 진보된 방법이다. 그래서 상수를 정의할 때는 가급적이면 #define보다는 const를 사용할 것을 더 권장하는 편이다. 그러나 const가 #define보다는 더 좋은 방법임이 분명하지만 #define도 나름대로 간편하고 편리하기 때문에 아직까지도 습관적으로 #define을 애용하는 경우가 더 많으며 굳이 금기시할 필요까지는 없다.



